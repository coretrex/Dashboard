<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quarterly Goals</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 50px;
        }
        .countdown-timer {
            font-size: 48px;
            margin-bottom: 20px;
        }
        .countdown-text {
            font-size: 24px;
        }
    </style>
</head>
<body>
    <div id="countdown-timer" class="countdown-timer"></div>
    <div id="countdown-text" class="countdown-text"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            initializeCountdownTimer();
        });

        function initializeCountdownTimer() {
            const countdownElement = document.getElementById('countdown-timer');
            const countdownTextElement = document.getElementById('countdown-text');
            
            const endOfQuarter = getEndOfNearestQuarter();
            const currentQuarter = getCurrentQuarter();

            countdownTextElement.innerHTML = `Until the end of Q${currentQuarter}`;

            function updateCountdown() {
                const now = new Date();
                const timeRemaining = endOfQuarter - now;

                if (timeRemaining <= 0) {
                    countdownElement.innerHTML = "Time's up!";
                    countdownTextElement.innerHTML = "";
                    return;
                }

                const days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24));
                const hours = Math.floor((timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);

                countdownElement.innerHTML = `${days}d ${hours}h ${minutes}m ${seconds}s`;
            }

            updateCountdown();
            setInterval(updateCountdown, 1000);
        }

        function getEndOfNearestQuarter() {
            const now = new Date();
            const year = now.getFullYear();
            const quarters = [
                new Date(year, 2, 31, 23, 59, 59),  // Q1
                new Date(year, 5, 30, 23, 59, 59),  // Q2
                new Date(year, 8, 30, 23, 59, 59),  // Q3
                new Date(year, 11, 31, 23, 59, 59)  // Q4
            ];

            for (const quarterEnd of quarters) {
                if (now <= quarterEnd) {
                    return quarterEnd;
                }
            }

            // If no quarter end found in the current year, return Q4 of the next year
            return new Date(year + 1, 11, 31, 23, 59, 59);
        }

        function getCurrentQuarter() {
            const now = new Date();
            const month = now.getMonth();
            if (month < 3) return 1;
            if (month < 6) return 2;
            if (month < 9) return 3;
            return 4;
        }
    </script>
</body>
</html>
